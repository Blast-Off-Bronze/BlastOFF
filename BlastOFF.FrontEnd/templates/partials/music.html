<div ng-controller="musicController">
    <div ng-if="showMusic">


        <div class="panel panel-white post panel-shadow" ng-if="!requesterIsBusy" ng-repeat="musicAlbum in allMusicAlbums">

            <div class="post-image">
                <img ng-src="{{musicAlbum.coverImageData || defaultMusicAlbumCoverImage}}" class="image">
            </div>

            <div class="post-description">
                <h4>{{musicAlbum.title}}</h4>

                <p>{{musicAlbum.author}} created this music album on {{musicAlbum.dateCreated | date: 'MMM dd, yyyy'}}</p>

                <div class="stats">
                    <a href="#" class="btn btn-default stat-item">Viewed ({{musicAlbum.viewsCount}})</a>
                    <a href="#" class="btn btn-default stat-item">Like ({{musicAlbum.likesCount}})</a>
                    <a href="#" class="btn btn-default stat-item">Follow ({{musicAlbum.followersCount}})</a>
                    <a href="#" class="btn btn-default stat-item" style="margin-right:0">Comment ({{musicAlbum.commentsCount}})</a>
                </div>
            </div>

            <ul class="comments-list" ng-if="musicAlbum.songsCount > 0">
                <li class="comment" ng-repeat="song in musicAlbum.songs" ng-bind-html="song.filePath">
                    <a class="pull-left">
                        <audio controls>
                            <source ng-src="{{song.filePath}}" type="audio/mp3"/>
                        </audio>
                    </a>

                    <div class="comment-body">
                        <div class="comment-heading">
                            <h4 class="user">{{song.title}} - {{song.artist}}</h4>
                        </div>
                        <p>{{musicAlbum.author}} added this song on {{song.dateAdded | date: 'MMM dd, yyyy'}}</p>
                    </div>
                </li>
            </ul>

        </div>


<br/>

<input type="text" ng-model="musicAlbum.title"/>

<br/>
<br/>

<input type="file" cover-image-upload="onFileSelect($files)" ng-model="musicAlbum.coverImageData"/>

<br/>
<br/>

<button type="button" ng-click="addMusicAlbum(musicAlbum)">Add Music Album</button>

<br/>
<br/>
<hr/>
<br/>

<input type="text" ng-model="song.title"/>

<br/>
<br/>

<input type="text" ng-model="song.artist"/>

<br/>
<br/>

<input type="file" song-upload="onFileSelect($files)" ng-model="song.fileDataUrl"/>

<br/>
<br/>

<button type="button" ng-click="addSong(song)">Upload Song</button>


    </div>
</div>
